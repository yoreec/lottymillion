<html>
<head>
    <title>Cash Lottery Ads</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script async src="https://js.onclckmn.com/static/onclicka.js" data-admpid="288351"></script>    <style>
        :root {
            --primary: #0088cc;
            --secondary: #ff6b6b;
        }

        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f0f2f5;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
        }

        .ad-container {
            height: 100px;
            margin: 15px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            border-radius: 12px;
        }

        .referral-link {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            margin: 15px 0;
            word-break: break-all;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –°–ª–æ—Ç –¥–ª—è –±–∞–Ω–Ω–µ—Ä–Ω–æ–π —Ä–µ–∫–ª–∞–º—ã -->
        <div class="ad-container" id="bannerAd">
            <!-- –°—é–¥–∞ –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Ä–µ–∫–ª–∞–º–Ω—ã–π –∫–æ–¥ -->
            –ü—Ä–∏–º–µ—Ä –±–∞–Ω–Ω–µ—Ä–∞ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–π)
        </div>

        <div class="referral-link" onclick="copyReferral()" id="referralOutput">
            –ó–∞–≥—Ä—É–∑–∫–∞...
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å -->
        <div id="gameInterface"></div>

        <!-- –°–ª–æ—Ç –¥–ª—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–π —Ä–µ–∫–ª–∞–º—ã -->
        <div id="fullscreenAd" style="display: none;"></div>
    </div>

<script>
// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–∑–∞–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞)
const config = {
    botUsername: 'YourBotName', // –ë–µ–∑ @
    adProviders: {
        banner: {
            enabled: true,
            html: '<!-- –í–∞—à HTML –∫–æ–¥ –±–∞–Ω–Ω–µ—Ä–∞ -->'
        },
        video: {
            enabled: true,
            script: '<!-- –í–∞—à —Å–∫—Ä–∏–ø—Ç –≤–∏–¥–µ–æ-—Ä–µ–∫–ª–∞–º—ã -->'
        }
    }
};

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
const webApp = Telegram.WebApp;
let state = {};

function init() {
    webApp.ready();
    loadState();
    setupAds();
    renderUI();
    checkReferral();
}

function loadState() {
    state = {
        tickets: localStorage.tickets || 0,
        referrals: localStorage.referrals || 0,
        referralCode: localStorage.referralCode || generateCode(),
        ...webApp.initDataUnsafe.user
    };
}

function generateCode() {
    return Math.random().toString(36).slice(2, 8).toUpperCase();
}

// –†–µ–Ω–¥–µ—Ä –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
function renderUI() {
    const interfaceHTML = `
        <div class="balance-card">
            <h3>üé´ –ë–∏–ª–µ—Ç—ã: ${state.tickets}</h3>
            <p>üë• –ü—Ä–∏–≥–ª–∞—à–µ–Ω–æ: ${state.referrals}</p>
        </div>
        <button class="button" onclick="showAd()">
            üì∫ –°–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∫–ª–∞–º—É (+1 –±–∏–ª–µ—Ç)
        </button>
    `;
    document.getElementById('gameInterface').innerHTML = interfaceHTML;
    document.getElementById('referralOutput').textContent = 
        `https://t.me/${config.botUsername}?start=${state.referralCode}`;
}

// –†–µ–∫–ª–∞–º–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
function setupAds() {
    if(config.adProviders.banner.enabled) {
        document.getElementById('bannerAd').innerHTML = 
            config.adProviders.banner.html;
    }
}

function showAd() {
    // –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—É—é —Ä–µ–∫–ª–∞–º—É
    document.getElementById('fullscreenAd').style.display = 'block';
    document.getElementById('fullscreenAd').innerHTML = 
        config.adProviders.video.script;

    // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
    setTimeout(() => {
        onAdComplete();
    }, 30000); // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∫–æ–ª–ª–±–µ–∫ –≤–∞—à–µ–≥–æ —Ä–µ–∫–ª–∞–º–Ω–æ–≥–æ SDK
}

function onAdComplete() {
    state.tickets++;
    if(state.referredBy) handleReferral();
    saveState();
    renderUI();
    webApp.showAlert('+1 –±–∏–ª–µ—Ç!');
    document.getElementById('fullscreenAd').style.display = 'none';
}

// –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
function copyReferral() {
    navigator.clipboard.writeText(
        `https://t.me/${config.botUsername}?start=${state.referralCode}`
    );
    webApp.showAlert('–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!');
}

function checkReferral() {
    const params = new URLSearchParams(webApp.initDataUnsafe.start_param);
    const referrer = params.get('start');
    
    if(referrer && referrer !== state.referralCode) {
        state.referredBy = referrer;
        webApp.showPopup({
            title: 'üéâ –†–µ—Ñ–µ—Ä–∞–ª –ø—Ä–∏–Ω—è—Ç!',
            message: '–ü–æ–ª—É—á–∏—Ç–µ –±–æ–Ω—É—Å –ø–æ—Å–ª–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ–∫–ª–∞–º—ã'
        });
    }
}

function handleReferral() {
    // –ó–¥–µ—Å—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å –∫ —Å–µ—Ä–≤–µ—Ä—É –¥–ª—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –±–æ–Ω—É—Å–æ–≤
    state.referrals++;
    webApp.showAlert('–í–∞—à –¥—Ä—É–≥ –ø–æ–ª—É—á–∏–ª +1 –±–∏–ª–µ—Ç!');
    saveState();
}

function saveState() {
    localStorage.setItem('tickets', state.tickets);
    localStorage.setItem('referrals', state.referrals);
    localStorage.setItem('referralCode', state.referralCode);
}

// –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
init();
</script>
</body>
</html>
